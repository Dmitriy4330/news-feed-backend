# Проект №3  
## Проектирование распределённой системы (System Design)

### Тема проекта  
**Микроблог (аналог Twitter), MVP-версия**

## 1. Постановка задачи

Целью работы является проектирование архитектуры распределённой информационной системы для сервиса микроблогов, позволяющего пользователям публиковать короткие сообщения и просматривать ленту публикаций пользователей, на которых они подписаны.

## 2. Основной функционал системы

В рамках MVP реализация функционала:

- регистрация и аутентификация пользователей;
- публикация текстовых сообщений (постов);
- подписка на других пользователей;
- формирование персональной ленты новостей;
- (опционально) отправка уведомлений о новых постах.

Функции лайков, комментариев, репостов и поиска не входят в MVP и могут быть реализованы в дальнейшем.

## 3. Нефункциональные требования

Нефункциональные требования:

- система должна корректно работать при росте количества пользователей;
- чтение ленты должно выполняться быстрее, чем запись (read-heavy нагрузка);
- система должна допускать горизонтальное масштабирование;
- отказ одного компонента не должен приводить к полной недоступности сервиса.

## 4. Общая архитектура системы

Архитектура системы построена по принципам сервис-ориентированного подхода. Компоненты:

- клиентское приложение (web / mobile);
- балансировщик нагрузки;
- API-шлюз (backend);
- логические сервисы:
  - сервис аутентификации;
  - сервис пользователей;
  - сервис постов;
  - сервис формирования ленты;
  - сервис уведомлений;
- системы хранения данных;
- кэш;
- очередь сообщений.

Все взаимодействия между клиентом и сервером происходят по HTTP(S).

### Схема 1 — Общая архитектура системы
flowchart LR
  U[Пользователь\nWeb/Mobile] -->|HTTPS| LB[Load Balancer / Nginx]
  LB --> API[API Gateway / Backend API]

  API --> AUTH[Auth Service]
  API --> USER[User Service]
  API --> POST[Post Service]
  API --> FEED[Feed Service]
  API --> NOTIF[Notification Service]

  AUTH --> DBU[(PostgreSQL:\nusers, auth)]
  USER --> DBU

  POST --> DBP[(PostgreSQL:\nposts)]
  USER --> DBS[(PostgreSQL:\nfollows/subscriptions)]

  FEED --> CACHE[(Redis Cache:\nfeed cache)]
  FEED --> DBP
  FEED --> DBS

  POST --> MQ[(Message Queue:\nRabbitMQ/Kafka)]
  MQ --> NOTIF

